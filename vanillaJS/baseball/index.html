<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Baseball Game</title>
</head>
<body>
  <h1>게임 - 숫자 야구</h1>

  <div class="game-start-button">
    <button class="btn-start">Game Start!!!</button>
  </div>
  
  <div class="enter-number">
    <input type="text" placeholder="숫자 3자리만 입력하세요." class="input-number" onkeypress="enterNumberOnly()" style="ime-mode:disabled">
    <button class="btn-send">Send</button>
  </div>

  <div class="score">
    <table>
      <thead>
        <tr>
          <th>횟수</th>
          <th colspan="3">숫자</th>
          <th>판정</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>5</td>
          <td>6</td>
          <td>7</td>
          <td>Out!!!</td>
        </tr>
        <tr>
          <td>2</td>
          <td>1</td>
          <td>3</td>
          <td>8</td>
          <td>0S 1B</td>
        </tr>
        <tr>
          <td>3</td>
          <td>2</td>
          <td>3</td>
          <td>8</td>
          <td>1S 0B</td>
        </tr>
      </tbody>
    </table>
  </div>
<script>
  function enterNumberOnly(){
    if((event.keyCode<48) || (event.keyCode>57)){
      event.returnValue=false;
    }
  }


  var randomArray = [];
  document.querySelector(".btn-start").addEventListener("click", function (e) {
    for (var index = 0; index < 3; index++) {
      var randomNumber = Math.floor(Math.random()*(9));
      randomArray.push(randomNumber);
    }
    return console.log(randomArray);
  })

  document.querySelector(".btn-send").addEventListener("click", function (e) {
    var inputValue = document.querySelector(".input-number").value;
    var valueArray = [];
    if (inputValue.length === 3) {
      for (var valueIndex = 0; valueIndex < inputValue.length; valueIndex++) {
        valueArray.push(parseInt(inputValue[valueIndex]));
      }
      console.log(randomArray, valueArray);
      for (let randomArrayIndex = 0; randomArrayIndex < randomArray.length; randomArrayIndex++) {
        // console.log(randomArray.length);
        for (let valueArrayIndex = 0; valueArrayIndex < valueArray.length; valueArrayIndex++) {
          switch (valueArray) {
            case randomArray[valueArrayIndex]:
              console.log(randomArrayIndex, 'S');
              break;
            case randomArray[randomArrayIndex - 1]:
              console.log(randomArrayIndex, 'B');
              break;
            case randomArray[randomArrayIndex + 1]:
              console.log(randomArrayIndex, 'B');
              break;
            default:
              console.log(randomArrayIndex, 'out');
              break;
          }
        }
        // if (randomArray[randomArrayIndex] === valueArray[randomArrayIndex]) {
        //   console.log(randomArrayIndex, 'S');
        // }
      }
      // return console.log(randomArray, valueArray, randomArray === valueArray);
    } else {
      alert("숫자 3자리만 입력하세요.");
    }
  });
</script>
</body>
</html>